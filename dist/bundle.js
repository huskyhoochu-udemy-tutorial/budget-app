!function(e){function t(i){if(n[i])return n[i].exports;var c=n[i]={i:i,l:!1,exports:{}};return e[i].call(c.exports,c,c.exports,t),c.l=!0,c.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:i})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}([function(e,t,n){"use strict";var i=function(){function e(e,t,n){this.id=e,this.description=t,this.value=n}function t(e,t,n){this.id=e,this.description=t,this.value=n}e.prototype.calcPercentage=function(e){this.percentage=e>0?Math.round(this.value/e*100):-1},e.prototype.getPercentage=function(){return this.percentage};var n={allItems:{exp:[],inc:[]},totals:{exp:0,inc:0},budget:0,percentage:-1},i=function(e){var t=0;n.allItems[e].forEach(function(e){t+=e.value}),n.totals[e]=t};return{addItem:function(i,c,a){var r=void 0,o=void 0;return o=n.allItems[i].length>0?n.allItems[i][n.allItems[i].length-1].id+1:0,"exp"===i?r=new e(o,c,a):"inc"===i&&(r=new t(o,c,a)),n.allItems[i].push(r),r},deleteItem:function(e,t){var i=n.allItems[e].map(function(e){return e.id}),c=i.indexOf(t);-1!==c&&n.allItems[e].splice(c,1)},calculateBudget:function(){i("exp"),i("inc"),n.budget=n.totals.inc-n.totals.exp,n.totals.inc>0?n.percentage=Math.round(n.totals.exp/n.totals.inc*100):n.percentage=-1},calculatePercentages:function(){n.allItems.exp.forEach(function(e){e.calcPercentage(n.totals.inc)})},getPercentages:function(){return n.allItems.exp.map(function(e){return e.getPercentage()})},getBudget:function(){return{budget:n.budget,totalInc:n.totals.inc,totalExp:n.totals.exp,percentage:n.percentage}}}}(),c=function(){var e={expenseContainer:".expenses__list",incomeContainer:".income__list",inputButton:".add__btn",inputDescription:".add__description",inputType:".add__type",inputValue:".add__value",budgetLabel:".budget__value",incomeLabel:".budget__income--value",expensesLabel:".budget__expenses--value",percentageLabel:".budget__expenses--percentage",container:".container"};return{getInput:function(){return{description:document.querySelector(e.inputDescription).value,type:document.querySelector(e.inputType).value,value:document.querySelector(e.inputValue).valueAsNumber}},addListItem:function(t,n){var i=void 0,c=void 0,a=void 0;"inc"===n?(i='<div class="item clearfix" id="inc-%id%"><div class="item__description">%description%</div><div class="right clearfix"><div class="item__value">%value%</div><div class="item__delete"><button class="item__delete--btn"><i class="ion-ios-close-outline"></i></button></div></div></div>',a=e.incomeContainer):"exp"===n&&(i='<div class="item clearfix" id="exp-%id%"><div class="item__description">%description%</div><div class="right clearfix"><div class="item__value">%value%</div><div class="item__percentage">21%</div><div class="item__delete"><button class="item__delete--btn"><i class="ion-ios-close-outline"></i></button></div></div></div>',a=e.expenseContainer),c=i.replace("%id%",t.id),c=c.replace("%description%",t.description),c=c.replace("%value%",t.value),document.querySelector(a).insertAdjacentHTML("beforeend",c)},deleteListItem:function(e){var t=document.getElementById(e);t.parentNode.removeChild(t)},clearFields:function(){var t=document.querySelectorAll(e.inputDescription+", "+e.inputValue);Array.prototype.slice.call(t).forEach(function(e){e.value=""})},displayBudget:function(t){document.querySelector(e.budgetLabel).textContent=t.budget,document.querySelector(e.incomeLabel).textContent=t.totalInc,document.querySelector(e.expensesLabel).textContent=t.totalExp,t.percentage>0?document.querySelector(e.percentageLabel).textContent=t.percentage+"%":document.querySelector(e.percentageLabel).textContent="---"},getDOMStrings:function(){return e}}}();(function(e,t){var n=function(){e.calculateBudget();var n=e.getBudget();t.displayBudget(n)},i=function(){e.calculatePercentages();var t=e.getPercentages();console.log(t)},c=function(){var c=t.getInput();if(""!==c.description&&!Number.isNaN(c.value)&&c.value>0){var a=e.addItem(c.type,c.description,c.value);t.addListItem(a,c.type),t.clearFields(),n(),i()}},a=function(n){var i=n.target.parentNode.parentNode.parentNode.id;if(i){var c=i.split("-"),a=c[0],r=parseInt(c[1],10);e.deleteItem(a,r),t.deleteListItem(i)}},r=function(){var e=t.getDOMStrings();document.querySelector(e.inputButton).addEventListener("click",c),document.addEventListener("keypress",function(e){13!==e.keyCode&&13!==e.which||c()}),document.querySelector(e.container).addEventListener("click",a)};return{init:function(){t.displayBudget({budget:0,totalInc:0,totalExp:0,percentage:-1}),r()}}})(i,c).init()}]);
//# sourceMappingURL=bundle.js.map