{"version":3,"sources":["webpack:///webpack/bootstrap a509ae07caf08cad4cb4","webpack:///./app.js"],"names":["budgetController","Expense","id","description","value","prototype","calcPercentage","totalIncome","percentage","Math","round","getPercentage","Income","data","allItems","exp","inc","totals","budget","calculateTotal","type","sum","forEach","cur","addItem","des","val","newItem","ID","length","push","deleteItem","ids","map","current","index","indexOf","splice","calculateBudget","calculatePercentages","getPercentages","getBudget","totalInc","totalExp","UIController","DOMStrings","expenseContainer","incomeContainer","inputButton","inputDescription","inputType","inputValue","budgetLabel","incomeLabel","expensesLabel","percentageLabel","container","expensesPercLabel","formatNumber","num","numAbs","abs","numFixed","toFixed","numSplit","split","int","substr","dec","getInput","document","querySelector","valueAsNumber","addListItem","obj","html","newHtml","element","replace","insertAdjacentHTML","deleteListItem","selectorID","getElementById","parentNode","removeChild","clearFields","fields","querySelectorAll","fieldsArr","Array","slice","call","result","displayBudget","textContent","displayPercentages","percentages","nodeListForEach","list","callback","i","getDOMStrings","controller","budgetCtrl","UICtrl","updateBudget","updatePercentages","ctrlAddItem","input","Number","isNaN","ctrlDeleteItem","event","itemID","target","splitID","parseInt","setupEventListeners","DOM","addEventListener","keyCode","which","init"],"mappings":"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","file":"./dist/bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap a509ae07caf08cad4cb4","// 예산 컨트롤러\nconst budgetController = (() => {\n  function Expense(id, description, value) {\n    this.id = id;\n    this.description = description;\n    this.value = value;\n  }\n\n  Expense.prototype.calcPercentage = function (totalIncome) {\n    if (totalIncome > 0) {\n      this.percentage = Math.round((this.value / totalIncome) * 100);\n    } else {\n      this.percentage = -1;\n    }\n  };\n\n  Expense.prototype.getPercentage = function () {\n    return this.percentage;\n  };\n\n  function Income(id, description, value) {\n    this.id = id;\n    this.description = description;\n    this.value = value;\n  }\n\n  const data = {\n    allItems: {\n      exp: [],\n      inc: [],\n    },\n    totals: {\n      exp: 0,\n      inc: 0,\n    },\n    budget: 0,\n    percentage: -1,\n  };\n\n  const calculateTotal = (type) => {\n    let sum = 0;\n    data.allItems[type].forEach((cur) => {\n      sum += cur.value;\n    });\n    data.totals[type] = sum;\n  };\n\n  return {\n    addItem: (type, des, val) => {\n      let newItem;\n      let ID;\n\n      // 아이디는 배열 마지막 아이템의 아이디 +1 이다\n      if (data.allItems[type].length > 0) {\n        ID = data.allItems[type][data.allItems[type].length - 1].id + 1;\n      } else {\n        ID = 0;\n      }\n\n      // 수입 지출을 구분하는 조건문\n      if (type === 'exp') {\n        newItem = new Expense(ID, des, val);\n      } else if (type === 'inc') {\n        newItem = new Income(ID, des, val);\n      }\n\n      data.allItems[type].push(newItem);\n      return newItem;\n    },\n    deleteItem: (type, id) => {\n      // allItems.type array의 요소마다 콜백 함수를 적용해 새로운 array를 반환한다\n      // ids는 allItems.type의 각 요소들의 id 값으로 이루어진 array가 된다\n      const ids = data.allItems[type].map(current => current.id);\n\n      // id 값으로 이루어진 array에서 id 값에 해당하는 index를 찾는다\n      const index = ids.indexOf(id);\n\n      // 아이템이 존재하기면 하면 작동하도록 함(index는 0부터 시작되는 양의 정수니까)\n      if (index !== -1) {\n        data.allItems[type].splice(index, 1);\n      }\n    },\n    calculateBudget: () => {\n      //  총 수입 / 지출 계산\n      calculateTotal('exp');\n      calculateTotal('inc');\n\n      //  총 예산 계산: 수입 - 지출\n      data.budget = data.totals.inc - data.totals.exp;\n\n      //  총 수입 대비 지출율 계산\n      if (data.totals.inc > 0) {\n        data.percentage = Math.round((data.totals.exp / data.totals.inc) * 100);\n      } else {\n        data.percentage = -1;\n      }\n    },\n    calculatePercentages() {\n      data.allItems.exp.forEach((cur) => {\n        cur.calcPercentage(data.totals.inc);\n      });\n    },\n    getPercentages() {\n      return data.allItems.exp.map(cur => cur.getPercentage());\n    },\n    getBudget: () => ({\n      budget: data.budget,\n      totalInc: data.totals.inc,\n      totalExp: data.totals.exp,\n      percentage: data.percentage,\n    }),\n  };\n})();\n\n// UI 컨트롤러\nconst UIController = (() => {\n  const DOMStrings = {\n    expenseContainer: '.expenses__list',\n    incomeContainer: '.income__list',\n    inputButton: '.add__btn',\n    inputDescription: '.add__description',\n    inputType: '.add__type',\n    inputValue: '.add__value',\n    budgetLabel: '.budget__value',\n    incomeLabel: '.budget__income--value',\n    expensesLabel: '.budget__expenses--value',\n    percentageLabel: '.budget__expenses--percentage',\n    container: '.container',\n    expensesPercLabel: '.item__percentage',\n  };\n\n  // 숫자 포맷을 정하는 함수\n  const formatNumber = (num, type) => {\n    const numAbs = Math.abs(num);\n    const numFixed = numAbs.toFixed(2);\n    const numSplit = numFixed.split('.');\n    let int = numSplit[0];\n    if (int.length > 3) {\n      int = `${int.substr(0, int.length - 3)},${int.substr(int.length - 3, 3)}`;\n    }\n    const dec = numSplit[1];\n    return `${type === 'exp' ? '-' : '+'} ${int}.${dec}`;\n  };\n\n  return {\n    // input 값을 DOM 객체로 만드는 함수\n    getInput: () => ({\n      description: document.querySelector(DOMStrings.inputDescription).value,\n      type: document.querySelector(DOMStrings.inputType).value,\n      value: document.querySelector(DOMStrings.inputValue).valueAsNumber,\n    }),\n\n    // DOM 객체를 이용해 HTML 아이템을 만들어 리스트에 띄우는 함수\n    addListItem: (obj, type) => {\n      let html;\n      let newHtml;\n      let element;\n\n      // placeholder text를 만든다\n      if (type === 'inc') {\n        html = '<div class=\"item clearfix\" id=\"inc-%id%\">' +\n          '<div class=\"item__description\">%description%</div>' +\n          '<div class=\"right clearfix\"><div class=\"item__value\">%value%</div>' +\n          '<div class=\"item__delete\">' +\n          '<button class=\"item__delete--btn\"><i class=\"ion-ios-close-outline\"></i></button>' +\n          '</div></div></div>';\n        element = DOMStrings.incomeContainer;\n      } else if (type === 'exp') {\n        html = '<div class=\"item clearfix\" id=\"exp-%id%\">' +\n          '<div class=\"item__description\">%description%</div>' +\n          '<div class=\"right clearfix\"><div class=\"item__value\">%value%</div>' +\n          '<div class=\"item__percentage\">21%</div><div class=\"item__delete\">' +\n          '<button class=\"item__delete--btn\"><i class=\"ion-ios-close-outline\"></i></button>' +\n          '</div></div></div>';\n        element = DOMStrings.expenseContainer;\n      }\n\n      // placeholder text를 실제 객체로 바꾼다\n      newHtml = html.replace('%id%', obj.id);\n      newHtml = newHtml.replace('%description%', obj.description);\n      newHtml = newHtml.replace('%value%', formatNumber(obj.value, type));\n\n      // 값을 HTML 위에 띄운다\n      document.querySelector(element).insertAdjacentHTML('beforeend', newHtml);\n    },\n\n    // HTML 아이템을 삭제하는 함수\n    deleteListItem: (selectorID) => {\n      // 삭제하려는 요소의 부모 요소를 지정한다\n      const element = document.getElementById(selectorID);\n      // 부모 요소의 자식 요소를 삭제하는데, 그 인자는 부모 요소가 된다\n      element.parentNode.removeChild(element);\n    },\n\n    // 입력이 끝난 뒤 input fields를 초기화시키는 함수\n    clearFields: () => {\n      const fields = document.querySelectorAll(`${DOMStrings.inputDescription}, ${DOMStrings.inputValue}`);\n\n      const fieldsArr = Array.prototype.slice.call(fields);\n\n      fieldsArr.forEach((element) => {\n        const result = element;\n        result.value = '';\n      });\n    },\n\n    // 총 예산 현황을 HTML 요소에 대입해 띄우는 함수\n    displayBudget: (obj) => {\n      let type;\n      const budget = obj.budget > 0 ? type = 'inc' : type = 'exp'; // 삼항 연산자\n      document.querySelector(DOMStrings.budgetLabel).textContent = formatNumber(budget, type);\n      document.querySelector(DOMStrings.incomeLabel).textContent = formatNumber(obj.totalInc, 'inc');\n      document.querySelector(DOMStrings.expensesLabel).textContent = formatNumber(obj.totalExp, 'exp');\n\n      if (obj.percentage > 0) {\n        document.querySelector(DOMStrings.percentageLabel).textContent = `${obj.percentage}%`;\n      } else {\n        document.querySelector(DOMStrings.percentageLabel).textContent = '---';\n      }\n    },\n\n    // percentage를 계산해서 화면에 띄우는 함수\n    displayPercentages: (percentages) => {\n      const fields = document.querySelectorAll(DOMStrings.expensesPercLabel);\n      const nodeListForEach = (list, callback) => {\n        for (let i = 0; i < list.length; i += 1) {\n          callback(list[i], i);\n        }\n      };\n      nodeListForEach(fields, (current, index) => {\n        const result = current;\n        if (percentages[index] > 0) {\n          result.textContent = `${percentages[index]}%`;\n        } else {\n          result.textContent = '---';\n        }\n      });\n    },\n\n    // DOMStrings object를 호출하는 함수\n    getDOMStrings: () => DOMStrings,\n  };\n})();\n\n// 글로벌 앱 컨트롤러\nconst controller = ((budgetCtrl, UICtrl) => {\n  // 총 예산 업데이트 함수\n  const updateBudget = () => {\n    //    1. 예산을 계산하기\n    budgetCtrl.calculateBudget();\n\n    //    2. 예산을 리턴하기\n    const budget = budgetCtrl.getBudget();\n\n    //    3. 예산을 UI에 띄우기\n    UICtrl.displayBudget(budget);\n  };\n\n  // 수입 대비 지출 계산 함수\n  const updatePercentages = () => {\n    //    1. percentage 계산\n    budgetCtrl.calculatePercentages();\n\n    //    2. budget controller에서 percentage 읽기\n    const percentages = budgetCtrl.getPercentages();\n\n    //    3. UI에 업데이트하기\n    UICtrl.displayPercentages(percentages);\n  };\n\n  // HTML 문서에서 필요한 DOM 객체만 가져와 item으로 가공하는 함수\n  const ctrlAddItem = () => {\n    //    1. input data를 item에  담기\n    const input = UICtrl.getInput();\n\n    // NaN 값이 들어오는 걸 방지하기 위해 조건문 설정\n    // description 값이 들어와야 하며, value가 isNaN이어서는 안 되며, value는 0보다 커야 한다\n    if (input.description !== '' && !Number.isNaN(input.value) && input.value > 0) {\n      //    2. item을 budget controller에 넘기기\n      const newItem = budgetCtrl.addItem(input.type, input.description, input.value);\n\n      //    3. item을 UI에 추가하기\n      UICtrl.addListItem(newItem, input.type);\n\n      //    4. input 창을 지우기\n      UICtrl.clearFields();\n\n      //    5. 예산을 계산하고 업데이트하기\n      updateBudget();\n\n      //    6. percentage 계산하고 업데이트하기\n      updatePercentages();\n    }\n  };\n\n  // DOM 객체를 삭제하는 함수\n  const ctrlDeleteItem = (event) => {\n    const itemID = event.target.parentNode.parentNode.parentNode.id;\n    if (itemID) {\n      const splitID = itemID.split('-');\n      const type = splitID[0];\n      const ID = parseInt(splitID[1], 10); // 10진수 정수로 변환\n\n      //  1. item을 자료구조에서 삭제\n      budgetCtrl.deleteItem(type, ID);\n\n      //  2. item을 UI에서 삭제\n      UICtrl.deleteListItem(itemID);\n\n      //  3. 예산을 업데이트하고 새로운 예산을 보여줌\n    }\n  };\n\n  // 이벤트 리스너 함수\n  const setupEventListeners = () => {\n    // UIController에 정의해 둔 CSS 선택자를 꺼낸다\n    const DOM = UICtrl.getDOMStrings();\n\n    // 이벤트 리스너 1. 체크 버튼을 누를 경우\n    document.querySelector(DOM.inputButton).addEventListener('click', ctrlAddItem);\n\n    // 이벤트 리스너 2. enter 키를 누를 경우\n    document.addEventListener('keypress', (event) => {\n      if (event.keyCode === 13 || event.which === 13) {\n        ctrlAddItem();\n      }\n    });\n\n    // 이벤트 리스너 3. delete 버튼을 누를 경우\n    document.querySelector(DOM.container).addEventListener('click', ctrlDeleteItem);\n  };\n\n  return {\n    init() {\n      UICtrl.displayBudget({\n        budget: 0,\n        totalInc: 0,\n        totalExp: 0,\n        percentage: -1,\n      });\n      setupEventListeners();\n    },\n  };\n})(budgetController, UIController);\n\n// 컨트롤러 함수를 초기화\ncontroller.init();\n\n\n\n// WEBPACK FOOTER //\n// ./app.js"],"sourceRoot":""}